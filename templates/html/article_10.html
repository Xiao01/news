
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<title></title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="/static/css/base.css" rel="stylesheet">

<script type="text/javascript" src="/static/js/jquery.min.js"></script>
<script type="text/javascript" src="/static/js/slide.js"></script>
<script type="text/javascript" src="/static/js/jquery.cookie.js"></script>

</head>
<body>
  <!--栏目导航-->
<div class="header">
    <div class="layout logo">
        <a href="http://www.careeru.cn/" class="logoimg"><img src="/static/images/careeru.png" class="logoimg"></a>
        <ul class="nav">
            <li class="cur"><a href="/">首页</a></li>
            
                
                   <li class="columnnav">
                
                     <a href="/category/?cid=6">国内</a>
                   </li>

           
                
                   <li class="columnnav">
                
                     <a href="/category/?cid=5">国际</a>
                   </li>

           
                
                   <li class="columnnav">
                
                     <a href="/category/?cid=7">城市</a>
                   </li>

           
                
                   <li class="columnnav">
                
                     <a href="/category/?cid=4">娱乐</a>
                   </li>

           
                
                   <li class="columnnav">
                
                     <a href="/category/?cid=1">政治</a>
                   </li>

           
                
                   <li class="columnnav">
                
                     <a href="/category/?cid=8">民生</a>
                   </li>

           
                
                   <li class="columnnav">
                
                     <a href="/category/?cid=3">科技</a>
                   </li>

           
        </ul>
        <form  action="/search/" id="Search" name="search_box" method="get" target="_blank" >
            <input id="searchKey" title="请输入关键词" name="query"  autocomplete="off"  type="text">
            <input id="searchBtn" value=""  onclick="" aria-pressed="false" type="submit">
        </form>

    </div>
</div>
<!--内容部分-->
 <div class="layout">
      <!--左边部分-->
     
      <div class="main">
          <!--左边轮播广告部分-->
          <div  class="ad">
                <div class="ad-inner ">
                    <div class="item active">
                          <!--广告大图片-->
                        <ul class="slidebox" id="" style="display: block;">
                            <div class="ad_slide">
                                    <ul id="slidelist" class="slideshow">
                                        
                                            
                                                <li style="display: block;">
                                                    <a href="http://www.baidu.com" target="_blank" class="ad_imga">
                                                        <img src="/media/upload/p1.jpg"  width="880" height="300"></a>
                                                </li>
                                             
                                        
                                            
                                                <li style="display: block;">
                                                    <a href="http://www.baidu.com" target="_blank" class="ad_imga">
                                                        <img src="/media/upload/p2.jpg"  width="880" height="300"></a>
                                                </li>
                                             
                                        
                                            
                                                <li style="display: block;">
                                                    <a href="http://www.baidu.com" target="_blank" class="ad_imga">
                                                        <img src="/media/upload/p3.jpg"  width="880" height="300"></a>
                                                </li>
                                             
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                    </ul>

                             </div>
                        </ul>
                    </div>
                </div>
          </div>
          <!--左边新闻列表部分-->
          
   <div class="articlecss">
        <div class="title">
        <h2>django数据倒序</h2>
        <div class="postmeta">
          <span class="postmeta_author"></span>
          <span class="postmeta_category"><a href="" rel="category">编程</a></span>
          <span class="postmeta_time">2019-05-12</span>
        </div>
    </div>
        <div class="article">
         <p> <h1 class="postTitle" style="margin: 0px; padding: 0px 0px 0px 5px; float: left; line-height: 1.5; width: 1001.91px; clear: both; font-size: 14px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);"><a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/twyth/articles/8081026.html" style="margin: 0px; padding: 0px; color: rgb(7, 93, 179); text-decoration-line: none;">在Django里查询数据库时，如何按照desc倒序返回数据？</a></h1><p style="margin: 10px auto; padding: 0px; line-height: 1.5;">按照entry_date从小到大查询数据，可以写成：</p><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; overflow-wrap: break-word; font-family: &quot;Courier New&quot; !important;">Content.objects.order_by(&#39;entry_date&#39;)</pre><p style="margin: 10px auto; padding: 0px; line-height: 1.5;">从大到小排序：</p><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; overflow-wrap: break-word; font-family: &quot;Courier New&quot; !important;">Content.objects.order_by(&#39;-entry_date&#39;)</pre><p style="margin: 10px auto; padding: 0px; line-height: 1.5;">&nbsp;</p><p style="margin: 10px auto; padding: 0px; line-height: 1.5;"><strong style="margin: 0px; padding: 0px;">下面介绍其他种类的排序</strong></p><p style="margin: 10px auto; padding: 0px; line-height: 1.5;">随机排序：</p><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; overflow-wrap: break-word; font-family: &quot;Courier New&quot; !important;">Content.objects.order_by(&#39;?&#39;)</pre><p style="margin: 10px auto; padding: 0px; line-height: 1.5;">但是order_by(?)这种方式也许expensive并且slow，这取决于后端数据库。</p><p style="margin: 10px auto; padding: 0px; line-height: 1.5;"><strong style="margin: 0px; padding: 0px;">按照关系表的字段排序</strong></p><p><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5;"><a title="复制代码" style="margin: 0px; padding: 0px; color: rgb(7, 93, 179); text-decoration-line: underline; border: none !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin: 0px; padding: 0px; max-width: 900px; height: auto; border: none !important;"/></a></span></p><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; overflow-wrap: break-word; font-family: &quot;Courier New&quot; !important;">class&nbsp;Category(Base):
&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;models.CharField(primary_key=True,max_length=100)
&nbsp;&nbsp;&nbsp;&nbsp;title&nbsp;=&nbsp;models.CharField(max_length&nbsp;=&nbsp;255)

class&nbsp;Content(Base):
&nbsp;&nbsp;&nbsp;&nbsp;title&nbsp;=&nbsp;models.CharField(max_length=255)
&nbsp;&nbsp;&nbsp;&nbsp;description&nbsp;=&nbsp;models.TextField()
&nbsp;&nbsp;&nbsp;&nbsp;category&nbsp;=&nbsp;models.ForeignKey(Category,&nbsp;on_delete=models.CASCADE)</pre><p><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5;"><a title="复制代码" style="margin: 0px; padding: 0px; color: rgb(7, 93, 179); text-decoration-line: underline; border: none !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin: 0px; padding: 0px; max-width: 900px; height: auto; border: none !important;"/></a></span></p><p><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5;"><a title="复制代码" style="margin: 0px; padding: 0px; color: rgb(7, 93, 179); text-decoration-line: underline; border: none !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin: 0px; padding: 0px; max-width: 900px; height: auto; border: none !important;"/></a></span></p><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; overflow-wrap: break-word; font-family: &quot;Courier New&quot; !important;">#&nbsp;按照Category的字段code,对Content进行排序,只需要外键后加双下划线
Content.objects.order_by(&#39;category__title&#39;)

#&nbsp;如果只是按照外键来排序，会默认按照关联的表的主键排序
Content.objects.order_by(&#39;category&#39;)
#&nbsp;上面等价于
Content.objects.order_by(&#39;category__code&#39;)

#&nbsp;双下划线返回的是join后的结果集，而单下划线返回的是单个表的集合
Content.objects.order_by(&#39;category_title&#39;)</pre><p><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5;"><a title="复制代码" style="margin: 0px; padding: 0px; color: rgb(7, 93, 179); text-decoration-line: underline; border: none !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin: 0px; padding: 0px; max-width: 900px; height: auto; border: none !important;"/></a></span></p><p><br/></p></p>
        </div>
        <span class="tags">
            
            <a href="/tag/?tagid=4" rel="tag">Python&nbsp;&nbsp;</a>
            
        </span>

  </div>



      </div>
      <!--右边部分 -->
      <div class="side">
          <!--广告-->
        <div class="author_ad ad_div">
                    <div  class="ad slide">
                            <div class="ad-inner star_div">
                                 
                                        
                                 
                                        
                                 
                                        
                                 
                                        
                                 
                                        
                                            <div class="item active" >
                                                <a href="http://www.baidu5.com" target="_blank">
                                                    <img src="/media/upload/p5.jpg" alt="" style="width:300px;height:300px;">
                                                </a>
                                            </div>
                                        
                                 
                                        
                                 
                                        
                                 
                             </div>
                    </div>
        </div>

        <!--热门新闻-->

        <div class="hot module">
          <h3 class="subtitle">热门新闻</h3>
            <ul  class="article_lists">
                
                  <li>
                     <i class="top3">1</i>
                     <a href="/article/?id=1">王菲带女儿外出购物被偶遇</a>
                  </li>
                
                  <li>
                     <i class="top3">2</i>
                     <a href="/article/?id=2">“干掉”冰箱</a>
                  </li>
                
                  <li>
                     <i class="top3">3</i>
                     <a href="/article/?id=3">这4个经济学思维，能解决你绝大</a>
                  </li>
                
                  <li>
                     <i class="top3">4</i>
                     <a href="/article/?id=4">郭台铭曲解“九二共识“</a>
                  </li>
                
                  <li>
                     <i class="top3">5</i>
                     <a href="/article/?id=5">郭台铭以孝立业成台湾首富</a>
                  </li>
                

            </ul>
        </div>

        <!--广告-->
        <div class="ad2">
           <ul>
                
                     
                
                     
                
                     
                
                     
                       <a href="http://www.baidu4.com" target="_blank">
                         <li><img src="/media/upload/p4.jpg" width="300" ></li>
                       </a>
                      
                
                     
                
                     
                       <a href="http://www.baidu.com" target="_blank">
                         <li><img src="/media/upload/p6.jpg" width="300" ></li>
                       </a>
                      
                
                     
                       <a href="http://www.baidu.com" target="_blank">
                         <li><img src="/media/upload/p1_k5XNQG8.jpg" width="300" ></li>
                       </a>
                      
                
          </ul>
        </div>

        <!--关注我们-->
        <div class="follow">
         <div class="subtitle">关注我们</div>
          <div class="side_list">
             <img src="/static/images/careerqq0.8.png" >
          </div>

          <!--ms-main end -->
        </div>
      </div>
      
</div>
  <!--页脚部分-->
<footer>
  <p class="ft-copyright"></p>
 <div role="contentinfo" bosszone="footer" class="tcopyright" id="tcopyright">

    <div class="en">Copyright &copy; 2010- 2018 Careeru.cn All Rights Reserved</div>
    <div>
        <a rel="nofollow" target="_blank" href="/">可锐职场出品</a>
    </div>
</div>
</footer>
</body>
</html>
